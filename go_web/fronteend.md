ФАЙЛОВАЯ СТРУКТУРА ФРОНТЕНДА

realtone/
├── app/                          # Директория приложения (Next.js App Router)
│   ├── api/                      # API-маршруты
│   │   └── check/                # API для проверки аудиофайлов
│   │       └── route.ts          # Обработчик POST-запросов для анализа аудио
│   ├── auth/                     # Страницы авторизации
│   │   ├── login/                
│   │   │   └── page.tsx          # Страница входа
│   │   └── register/             
│   │       └── page.tsx          # Страница регистрации
│   ├── about/                    
│   │   └── page.tsx              # Страница "О сервисе"
│   ├── how-it-works/             
│   │   └── page.tsx              # Страница "Как это работает"
│   ├── contacts/                 
│   │   └── page.tsx              # Страница "Контакты"
│   ├── history/                  
│   │   └── page.tsx              # Страница истории проверок
│   ├── globals.css               # Глобальные стили
│   ├── layout.tsx                # Корневой макет приложения
│   └── page.tsx                  # Главная страница
│
├── components/                   # React-компоненты
│   ├── auth/                     # Компоненты авторизации
│   │   ├── login-form.tsx        # Форма входа
│   │   └── register-form.tsx     # Форма регистрации
│   ├── ui/                       # UI-компоненты (shadcn/ui)
│   │   ├── button.tsx            # Компонент кнопки
│   │   ├── card.tsx              # Компонент карточки
│   │   ├── input.tsx             # Компонент ввода
│   │   └── ...                   # Другие UI-компоненты
│   ├── analysis-summary.tsx      # Сводка анализа аудиофайла
│   ├── audio-player.tsx          # Компонент аудиоплеера
│   ├── audio-waveform.tsx        # Визуализация аудиоволны
│   ├── auth-check.tsx            # Проверка авторизации
│   ├── header.tsx                # Шапка сайта
│   ├── history-list.tsx          # Список истории проверок
│   ├── info-section.tsx          # Информационная секция
│   ├── result-display.tsx        # Отображение результатов анализа
│   ├── theme-provider.tsx        # Провайдер темы
│   ├── upload-form.tsx           # Форма загрузки аудиофайла
│   └── wave-background.tsx       # Фоновая волна
│
├── lib/                          # Утилиты и вспомогательные функции
│   └── utils.ts                  # Утилиты (включая функцию cn для условных классов)
│
├── public/                       # Статические файлы
│
├── tailwind.config.ts            # Конфигурация Tailwind CSS
├── package.json                  # Зависимости проекта
└── next.config.mjs               # Конфигурация Next.js

## Логика проекта

RealTone — это веб-приложение для проверки аутентичности аудиофайлов с помощью ИИ. Оно позволяет пользователям загружать аудиофайлы, анализировать их на предмет признаков ИИ-генерации и сохранять результаты анализа в истории.

### Основные функциональные блоки:

#### 1. Авторизация и аутентификация

**Реализация:**

- Моковая авторизация с использованием localStorage
- Защита маршрутов через компонент `AuthCheck`
- Формы входа и регистрации


**Ключевые файлы:**

- `components/auth-check.tsx` - проверяет статус авторизации и перенаправляет неавторизованных пользователей
- `components/auth/login-form.tsx` и `register-form.tsx` - формы для входа и регистрации
- `app/auth/login/page.tsx` и `register/page.tsx` - страницы авторизации


**Логика работы:**

1. Пользователь вводит данные в форму входа/регистрации
2. Данные сохраняются в localStorage (в реальном приложении здесь был бы API-запрос)
3. Компонент `AuthCheck` проверяет наличие данных пользователя в localStorage
4. Если пользователь не авторизован, происходит перенаправление на страницу входа


#### 2. Загрузка и анализ аудиофайлов

**Реализация:**

- Форма загрузки файла
- Отправка файла на API-эндпоинт
- Визуализация аудиоволны
- Анализ файла на подозрительные секции


**Ключевые файлы:**

- `components/upload-form.tsx` - форма загрузки и управление процессом анализа
- `app/api/check/route.ts` - API-эндпоинт для анализа аудиофайла
- `components/audio-waveform.tsx` - визуализация аудиоволны и разделение на секции
- `components/result-display.tsx` - отображение общего результата анализа
- `components/analysis-summary.tsx` - сводка анализа с подозрительными секциями


**Логика работы:**

1. Пользователь загружает аудиофайл через `UploadForm`
2. Файл отправляется на API-эндпоинт `/api/check` (в текущей реализации возвращается случайное значение)
3. Компонент `AudioWaveform` визуализирует аудиофайл и разбивает его на секции
4. Для каждой секции генерируется вероятность ИИ-генерации
5. Секции с высокой вероятностью (>70%) помечаются как подозрительные
6. Результаты анализа отображаются в компонентах `ResultDisplay` и `AnalysisSummary`


#### 3. Воспроизведение аудио

**Реализация:**

- Воспроизведение полного аудиофайла через WaveSurfer.js
- Воспроизведение отдельных секций через HTML5 Audio API


**Ключевые файлы:**

- `components/audio-waveform.tsx` - визуализация и воспроизведение полного аудиофайла
- `components/audio-player.tsx` - воспроизведение отдельных секций


**Логика работы:**

1. Пользователь может воспроизвести весь аудиофайл через элементы управления в `AudioWaveform`
2. Пользователь может кликнуть на секцию в визуализации для перехода к ней
3. Пользователь может воспроизвести отдельные подозрительные секции через компонент `AudioPlayer`


#### 4. История проверок

**Реализация:**

- Сохранение результатов в localStorage
- Отображение истории на отдельной странице
- Возможность удаления записей


**Ключевые файлы:**

- `components/upload-form.tsx` - сохранение результатов в историю
- `components/history-list.tsx` - отображение списка истории
- `app/history/page.tsx` - страница истории


**Логика работы:**

1. После успешного анализа результаты сохраняются в localStorage
2. На странице истории компонент `HistoryList` загружает данные из localStorage
3. Пользователь может просматривать историю проверок и удалять записи


## Основные функции проекта

### 1. Авторизация пользователей

- Регистрация новых пользователей
- Вход существующих пользователей
- Выход из системы
- Защита маршрутов от неавторизованных пользователей


### 2. Загрузка и анализ аудиофайлов

- Загрузка аудиофайлов через форму
- Отправка файлов на сервер для анализа
- Получение результатов анализа
- Визуализация общей вероятности ИИ-генерации


### 3. Визуализация аудиоволны

- Отображение волновой формы аудиофайла
- Разделение аудиофайла на секции
- Маркировка секций разными цветами в зависимости от вероятности ИИ-генерации
- Интерактивное взаимодействие с секциями (наведение, клик)


### 4. Определение подозрительных секций

- Анализ каждой секции аудиофайла
- Определение вероятности ИИ-генерации для каждой секции
- Выделение секций с высокой вероятностью (>70%)
- Отображение списка подозрительных секций


### 5. Воспроизведение аудио

- Воспроизведение полного аудиофайла
- Воспроизведение отдельных секций
- Навигация по аудиофайлу через визуализацию
- Управление воспроизведением (пауза, продолжение)


### 6. Управление историей проверок

- Сохранение результатов проверок
- Отображение списка проверенных файлов
- Фильтрация и сортировка истории
- Удаление записей из истории


### 7. Адаптивный интерфейс

- Корректное отображение на различных устройствах
- Адаптация компонентов под разные размеры экрана
- Оптимизация взаимодействия для мобильных устройств


## Технический стек

- **Frontend**: React, Next.js (App Router)
- **Стилизация**: Tailwind CSS, shadcn/ui
- **Визуализация аудио**: WaveSurfer.js
- **Хранение данных**: localStorage (в текущей реализации)
- **API**: Next.js API Routes
- **Аутентификация**: Моковая (localStorage)